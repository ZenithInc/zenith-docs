# Lambda

在一般的语境中，我们通常称之为 lambda 表达式，完整的说法应该是 lamdba 表达式函数，或者叫做单表达式函数。 表达式是它的表现形式，函数才是它的本质。所以要记住，lamdba 也是函数。这一篇文档就来说说 lambda 表达式，以及其具体在代码中的应用。

### 简化函数的编写

我们先使用常规的方法来定义一个加法的函数:

```python
def add(x, y):
    return x + y
```

如果使用 lambda 表达式如何写呢？

```python
add = lambda x, y: x + y
print(add(5, 3))  ## 输出：8
```

看着是不是简化了很多呢？ **lambda 表达式中并不需要使用 return 语句，因为它自动返回`x+y` 表达式的结果作为返回值。**

其实还可以在简化一些，不一定要赋值给一个变量，也可以立即调用:

```python
print((lambda x, y: x + y)(5, 3)) ## 输出: 8
```

在来看一个例子，我要对列表中的元组进行排序:

```python
tuples = [(0, 'd'), (2, 'c'), (3, 'e'), (6, 'b'), (7, 'a'), (1, 'g')]
tuples = sorted(tuples, key=lambda x: x[1])
print(tuples)  ## 输出结果如下:
## [(7, 'a'), (6, 'b'), (2, 'c'), (0, 'd'), (3, 'e'), (1, 'g')]
```

比如上面这个例子，我们只需要对 tuples 进行一次排序，定义了一个 lambda 函数指定其排序依据的 key, 结果按照指定的 key（也就是字母）进行排序。**这种定义函数只使用一次的场景，就非常适合使用 lambda 表达式，简化了函数的定义和使用**。

### lambda 表达式也适用于闭包

之前的文档中，我们说过函数可以嵌套，可以形成闭包。我们刚才也说 lambda 本质上也是一种函数，所以也同样适用闭包的场景，我们用一个加数的例子来说明:

```python
def add(number):
    return lambda x: x + number
plus_3 = add(3)
plus_5 = add(5)
print(plus_3(4))  ## 输出: 7
print(plus_5(5))  ## 输出: 8
```

我们看到，使用 lambda 表达式和普通的内部函数没有什么区别，都可以继承并延续 add 函数中的状态(变量)的生命周期。

### 谨慎使用 lambda 表达式 {id="warning"}

任何一项技术都有其应用场景和局限性，lambda 表达式也同样如此。

虽然在一些场景下，它确实可以简化函数的编写，但是同时也增加了代码的抽象程度，使得代码会更难以理解。所以在使用它之前，先想一想有没有更好更简单的写法。别忘了 Python 之禅中有说起过: **浅显好过隐晦**。